TUI Password Manager Design Doc
By Harry Phillips

General Description:
A terminal based password manager, accessible through a terminal user interface (TUI). This is a local only password manager, with support for multiple
users with each user having their own unique file. Each file will include information about the site, usernames, passwords, supplementary notes and metadata
about that entry. Encryption should be industry standard, including argon2id for password hashing, and keep a unique MAC information for file tampering.
Additional there should be support for auto generation of new passwords and the ability to parse existing passwords from Bitwarden into this program.
This will all be handled in the backend, with the front-end displaying both a login screen, setup-screen for porting existing passwords from Bitwarden
and a split-screen password viewer, with auto logout functionality.

Dependencies:
-libsodium (for the hashing, encryption and decryption)
-FTXUI (for the tui frontend)
-nlohmann/json (for the bitwarden converter)

Encryption Architecture:
	-It will use libsodium aed aegis-256 for the encryption
	-Associated Data
		Will use the metadata in the file in the following order:
		-Nonce
		-Salt
		-Iterations
		-Entry Count
		-Message Size
		This means a total of 59 bytes of associated data

	-Key-hashing is handled by argon2id with variable encryption iterations
	
	
TUI Interface:
-First time screen (if no files exist)
	-Displays the username and password
	-Has checkbox and path to use bitwarden import
	-Has argon2 parameters, (memory, iterations)
	-Create vault button

-Login screen
	-Username field
	-Password field
	-Enter and Quit button
	-Also has a status info at the bottom

-Main Vault
	- Left side has entires list
	- Right side has site information, username info, notes, some meta info such as date modified and a hidden password
	- There are then four options on the right bottom
		- [r] reveal password
		- [c] copy password
		- [e] edit entry
		- [d] delete entry
	- New entries includes those fields, plus a password generator
	- at the bottom there are several other options
		- [/] search
		- [n] new
		- [q] logout  
	- This main vault will automatically logout after 15 minutes


Internal Design (WIP, may change):
	Class Vault{};
	-Holds Password entries and handles adding / editing entries

	Struct PasswordEntry{};
	Sturct EntryMetadata{};

	Class VaultService{};
	-Handles the creation and opening of a vault

	Class SessionManager{};
	-Handles inactivity

	Class CryptoEngine{};
	-Encrypts, decryptes and handles the MAC

	Class BitwardedImporter{};
	-Open the Bitwarden json
	
	Class SecureString{};
	-All passwords and other important data is held in here and gets zeroed-out

	Class VaultView{};
	-What FTXUI actually interacts with
	
File design:
	Headers:
		-Header name: 8 bytes,
			Hex: 00 45 6E 63 72 79 70 74
			Ascii: \0Encrypt 
		-Nonce: 32 bytes
		-Salt: 16 bytes
		-Iterations: 1 byte
		-Entry count: 2 bytes
		-Message Size: 8 bytes	
		-Rest of the file: ... bytes

	Storage:
		Each entry will contain one of each with the following magic identifier:
		- the site, (1)
		- the username, (2)
		- the password, (3)
		- the notes, (4)
		- the date created timestamp, (5)
		- the date modified timestamp, (6)

		For each entry it will start with a magic identifier (1 byte) of 0, followed by the first real magic identifier
		then a length (2 bytes) Then it will continue reading until it hits another magic identifier

		Any unidentified magic identifier will have it and any data stored be ignored


Directory design:
	Will store data within ".local/share/password_manager/" on linux
	And "%APPDATA%/password_manager/" on windows

	The design will look like this:

	password_manager/
		password_list/
			<username1>.encrypted
			<username2>.encrypted
			<etc...>

